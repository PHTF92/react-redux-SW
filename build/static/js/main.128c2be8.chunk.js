(this["webpackJsonpreact-redux-sw"]=this["webpackJsonpreact-redux-sw"]||[]).push([[0],{17:function(e,t,n){e.exports=n(32)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(9),o=n.n(l),u=n(2),c=(n(28),n(29),n(4)),i=n(5),s=n(6),p=n(8),m=n(7),f=function(){return fetch("".concat("https://swapi-trybe.herokuapp.com/api","/planets")).then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))};n(30);var v=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getPlanets)()}},{key:"planetsFilteredByName",value:function(e){var t=this.props.filters[0].name;return t?e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):e}},{key:"forDoFiltrar",value:function(e,t){console.log(this.props);var n=t;return e.forEach((function(e){var t=e.numericValues,r=t.column,a=t.comparison,l=t.valueComparison;"coluna"!==r&&"Maior que"===a&&l>=0?n=n.filter((function(e){return parseFloat(e[r])>parseFloat(l)})):"coluna"!==r&&"Menor que"===a&&l>=0?n=n.filter((function(e){return parseFloat(e[r])<parseFloat(l)})):"coluna"!==r&&"ou Igual a"===a&&l>=0&&(n=n.filter((function(e){return parseFloat(e[r])===parseFloat(l)})))})),n}},{key:"planetsFilteredBySelect",value:function(e){var t=this.props.filters,n=Object(c.a)(t);n.splice(0,2);var r=this.forDoFiltrar(n,e);return n.length?r:e}},{key:"tableRender",value:function(){var e=this.props.data;console.log(e);var t=e?Object.keys(e[0]):"",n=e?Object(c.a)(e):[];return n=this.planetsFilteredByName(n),n=this.planetsFilteredBySelect(n),t?a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,t.map((function(e){return"residents"!==e?a.a.createElement("th",{key:e},e):null})))),a.a.createElement("tbody",null,n.map((function(e){return a.a.createElement("tr",null,Object.keys(e).map((function(t){return"residents"!==t?a.a.createElement("td",{key:e[t]},e[t]):null})))})))):""}},{key:"render",value:function(){return a.a.createElement("div",{className:"map"},this.tableRender())}}]),n}(r.Component),E=Object(u.b)((function(e){return{data:e.planets.data,filters:e.searchFilterReducer.filters}}),(function(e){return{getPlanets:function(){return e((function(e){return e({type:"REQUEST_ISS_LOCATION",isFetching:!0}),f().then((function(t){return e({type:"RECEIVE_PLANETS_SUCCESS",planets:t.results})}),(function(t){return e(function(e){return{type:"RECEIVE_PLANETS_FAILURE",error:e}}(t.message))}))}))}}}))(v);var h=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.searchFilterDispatch;return a.a.createElement("div",null,a.a.createElement("div",null,"Digite a palavra:",a.a.createElement("input",{placeholder:"Procurar planeta",onChange:function(e){return n(e.target.value)},value:t})))}}]),n}(r.Component),d=Object(u.b)((function(e){return{value:e.value}}),(function(e){return{searchFilterDispatch:function(t){return e({type:"SEARCH_FILTER",value:t})}}}))(h);n(31);var b=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"verificaEstadoFiltragem",value:function(){var e=this.props.filters.slice(1),t=[];return e.forEach((function(e){"coluna"!==e.numericValues.column&&t.push(e)})),t}},{key:"addFiltro",value:function(){var e=this.props,t=e.addNewFilter,n=e.filters[1].numericValues,r=n.column,a=n.comparison,l=n.valueComparison;"coluna"!==r&&"-"!==a&&l>=0?t(r,a,l):alert("escolha os tr\xeas campos")}},{key:"removeFilter",value:function(e){var t=this.props.removerFilter,n=e.target;t(n.id,n.value)}},{key:"geraFiltro",value:function(){var e=this,t=this.props.filters;if(t.length>2){var n=Object(c.a)(t);return n.splice(0,2),a.a.createElement("div",{className:"filtros"},n.map((function(t,n){return a.a.createElement("div",{className:"mini-filtros"},a.a.createElement("p",null,"Filtro:",t.numericValues.column),a.a.createElement("p",null,"Comparador: ",t.numericValues.comparison),a.a.createElement("p",null,"Valor: ",t.numericValues.valueComparison),a.a.createElement("button",{onClick:function(t){return e.removeFilter(t)},id:n+2,value:t.numericValues.column},"X"))})))}return""}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectors,r=t.filters,l=n||[],o=this.props.selectFilterDispatch,u=r[1].numericValues,c=u.column,i=u.comparison,s=u.valueComparison;return this.verificaEstadoFiltragem(),a.a.createElement("div",null,a.a.createElement("div",null,"Escolha o filtro:",a.a.createElement("select",{value:c,onChange:function(e){return o(e.target.value,"column")}},l.map((function(e){return a.a.createElement("option",{value:e},e)}))),a.a.createElement("select",{value:i,onChange:function(e){return o(e.target.value,"comparison")}},["-","Maior que","Menor que","ou Igual a"].map((function(e){return a.a.createElement("option",{value:e},e)}))),a.a.createElement("input",{type:"number",onChange:function(e){return o(e.target.value,"valueComparison")},value:s}),a.a.createElement("button",{onClick:function(){return e.addFiltro()}},"Filtrar")),this.geraFiltro())}}]),n}(r.Component),O=Object(u.b)((function(e){var t=e.planets,n=e.searchFilterReducer;return{planets:t,filters:n.filters,selectors:n.selectors}}),(function(e){return{selectFilterDispatch:function(t,n){return e({type:"SELECTOR_FILTER",value:t,part:n})},addNewFilter:function(t,n,r){return e({type:"NEW_FILTER",column:t,comparison:n,valueComparison:r})},removerFilter:function(t,n){return e(function(e,t){return{type:"REMOVE_FILTER",i:e,value:t}}(t,n))}}}))(b);var j=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",null,"Star Wars"),a.a.createElement(d,null),a.a.createElement(O,null),a.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(3),y=n(16),C=n(1),g={},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_ISS_LOCATION":return Object(C.a)({},e);case"RECEIVE_PLANETS_SUCCESS":return Object(C.a)(Object(C.a)({},e),{},{data:t.planets});default:return e}},R=n(10),S={filters:[{name:""},{numericValues:{column:"coluna",comparison:"-",valueComparison:0}}],selectors:["coluna","population","orbital_period","diameter","rotation_period","surface_water"]};function k(e,t){var n=e.value;return Object(C.a)(Object(C.a)({},t),{},{filters:t.filters.map((function(e,t){return 0===t?Object(C.a)(Object(C.a)({},e),{},{name:n}):e}))})}function I(e,t){var n=e.value,r=e.part;return Object(C.a)(Object(C.a)({},t),{},{filters:t.filters.map((function(e,a){return 1===a?Object(C.a)(Object(C.a)({},e),{},{numericValues:Object(C.a)(Object(C.a)({},t.filters[1].numericValues),{},Object(R.a)({},r,n))}):e}))})}function w(e,t){var n=e.column,r=e.comparison,a=e.valueComparison;return Object(C.a)(Object(C.a)({},t),{},{selectors:t.selectors.filter((function(e){return e!==n})),filters:[].concat(Object(c.a)(t.filters.map((function(e,t){return 1===t?Object(C.a)(Object(C.a)({},e),{},{numericValues:{column:"coluna",comparison:"-",valueComparison:0}}):e}))),[{numericValues:{column:n,comparison:r,valueComparison:a}}])})}function V(e,t){var n=e.i,r=e.value;return console.log(n,r),console.log(t.filters),Object(C.a)(Object(C.a)({},t),{},{selectors:[].concat(Object(c.a)(t.selectors),[r]),filters:t.filters.filter((function(e,t){return t!==parseInt(n,10)}))})}var L=Object(F.c)({planets:_,searchFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_FILTER":return k(t,e);case"SELECTOR_FILTER":return I(t,e);case"NEW_FILTER":return w(t,e);case"REMOVE_FILTER":return V(t,e);default:return e}}}),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,N=Object(F.e)(L,T(Object(F.a)(y.a)));o.a.render(a.a.createElement(u.a,{store:N},a.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.128c2be8.chunk.js.map